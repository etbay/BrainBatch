{"version":3,"file":"_page.svelte-cDqmf7EK.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/sverdle/_page.svelte.js"],"sourcesContent":["import { K as ensure_array_like, i as head, O as attr_class, e as escape_html, d as attr, P as clsx, Q as bind_props, c as pop, p as push, h as stringify } from \"../../../chunks/index2.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../chunks/exports.js\";\nimport \"../../../chunks/utils.js\";\nimport \"../../../chunks/state.svelte.js\";\nfunction _page($$payload, $$props) {\n  push();\n  let { data, form = void 0 } = $$props;\n  let won = data.answers.at(-1) === \"xxxxx\";\n  let i = won ? -1 : data.answers.length;\n  let currentGuess = data.guesses[i] || \"\";\n  let submittable = currentGuess.length === 5;\n  const { classnames, description } = (() => {\n    let classnames2 = {};\n    let description2 = {};\n    data.answers.forEach((answer, i2) => {\n      const guess = data.guesses[i2];\n      for (let i3 = 0; i3 < 5; i3 += 1) {\n        const letter = guess[i3];\n        if (answer[i3] === \"x\") {\n          classnames2[letter] = \"exact\";\n          description2[letter] = \"correct\";\n        } else if (!classnames2[letter]) {\n          classnames2[letter] = answer[i3] === \"c\" ? \"close\" : \"missing\";\n          description2[letter] = answer[i3] === \"c\" ? \"present\" : \"absent\";\n        }\n      }\n    });\n    return { classnames: classnames2, description: description2 };\n  })();\n  const each_array = ensure_array_like(\n    // prevent default callback from resetting the form\n    Array.from(Array(6).keys())\n  );\n  head($$payload, ($$payload2) => {\n    $$payload2.title = `<title>Sverdle</title>`;\n    $$payload2.out.push(`<meta name=\"description\" content=\"A Wordle clone written in SvelteKit\" class=\"svelte-115oxdy\"/>`);\n  });\n  $$payload.out.push(`<h1 class=\"visually-hidden svelte-115oxdy\">Sverdle</h1> <form method=\"post\" action=\"?/enter\" class=\"svelte-115oxdy\"><a class=\"how-to-play svelte-115oxdy\" href=\"/sverdle/how-to-play\">How to play</a> <div${attr_class(\"grid svelte-115oxdy\", void 0, { \"playing\": !won, \"bad-guess\": form?.badGuess })}><!--[-->`);\n  for (let $$index_1 = 0, $$length = each_array.length; $$index_1 < $$length; $$index_1++) {\n    let row = each_array[$$index_1];\n    const current = row === i;\n    const each_array_1 = ensure_array_like(Array.from(Array(5).keys()));\n    $$payload.out.push(`<h2 class=\"visually-hidden svelte-115oxdy\">Row ${escape_html(row + 1)}</h2> <div${attr_class(\"row svelte-115oxdy\", void 0, { \"current\": current })}><!--[-->`);\n    for (let $$index = 0, $$length2 = each_array_1.length; $$index < $$length2; $$index++) {\n      let column = each_array_1[$$index];\n      const guess = current ? currentGuess : data.guesses[row];\n      const answer = data.answers[row]?.[column];\n      const value = guess?.[column] ?? \"\";\n      const selected = current && column === guess.length;\n      const exact = answer === \"x\";\n      const close = answer === \"c\";\n      const missing = answer === \"_\";\n      $$payload.out.push(`<div${attr_class(\"letter svelte-115oxdy\", void 0, {\n        \"exact\": exact,\n        \"close\": close,\n        \"missing\": missing,\n        \"selected\": selected\n      })}>${escape_html(value)} <span class=\"visually-hidden svelte-115oxdy\">`);\n      if (exact) {\n        $$payload.out.push(\"<!--[-->\");\n        $$payload.out.push(`(correct)`);\n      } else {\n        $$payload.out.push(\"<!--[!-->\");\n        if (close) {\n          $$payload.out.push(\"<!--[-->\");\n          $$payload.out.push(`(present)`);\n        } else {\n          $$payload.out.push(\"<!--[!-->\");\n          if (missing) {\n            $$payload.out.push(\"<!--[-->\");\n            $$payload.out.push(`(absent)`);\n          } else {\n            $$payload.out.push(\"<!--[!-->\");\n            $$payload.out.push(`empty`);\n          }\n          $$payload.out.push(`<!--]-->`);\n        }\n        $$payload.out.push(`<!--]-->`);\n      }\n      $$payload.out.push(`<!--]--></span> <input name=\"guess\"${attr(\"disabled\", !current, true)} type=\"hidden\"${attr(\"value\", value)} class=\"svelte-115oxdy\"/></div>`);\n    }\n    $$payload.out.push(`<!--]--></div>`);\n  }\n  $$payload.out.push(`<!--]--></div> <div class=\"controls svelte-115oxdy\">`);\n  if (won || data.answers.length >= 6) {\n    $$payload.out.push(\"<!--[-->\");\n    if (!won && data.answer) {\n      $$payload.out.push(\"<!--[-->\");\n      $$payload.out.push(`<p class=\"svelte-115oxdy\">the answer was \"${escape_html(data.answer)}\"</p>`);\n    } else {\n      $$payload.out.push(\"<!--[!-->\");\n    }\n    $$payload.out.push(`<!--]--> <button data-key=\"enter\" class=\"restart selected svelte-115oxdy\" formaction=\"?/restart\">${escape_html(won ? \"you won :)\" : `game over :(`)} play again?</button>`);\n  } else {\n    $$payload.out.push(\"<!--[!-->\");\n    const each_array_2 = ensure_array_like([\"qwertyuiop\", \"asdfghjkl\", \"zxcvbnm\"]);\n    $$payload.out.push(`<div class=\"keyboard svelte-115oxdy\"><button data-key=\"enter\"${attr(\"disabled\", !submittable, true)}${attr_class(\"svelte-115oxdy\", void 0, { \"selected\": submittable })}>enter</button> <button data-key=\"backspace\" formaction=\"?/update\" name=\"key\" value=\"backspace\" class=\"svelte-115oxdy\">back</button> <!--[-->`);\n    for (let $$index_3 = 0, $$length = each_array_2.length; $$index_3 < $$length; $$index_3++) {\n      let row = each_array_2[$$index_3];\n      const each_array_3 = ensure_array_like(row);\n      $$payload.out.push(`<div class=\"row svelte-115oxdy\"><!--[-->`);\n      for (let index = 0, $$length2 = each_array_3.length; index < $$length2; index++) {\n        let letter = each_array_3[index];\n        $$payload.out.push(`<button${attr(\"data-key\", letter)}${attr_class(clsx(classnames[letter]), \"svelte-115oxdy\")}${attr(\"disabled\", submittable, true)} formaction=\"?/update\" name=\"key\"${attr(\"value\", letter)}${attr(\"aria-label\", `${stringify(letter)} ${stringify(description[letter] || \"\")}`)}>${escape_html(letter)}</button>`);\n      }\n      $$payload.out.push(`<!--]--></div>`);\n    }\n    $$payload.out.push(`<!--]--></div>`);\n  }\n  $$payload.out.push(`<!--]--></div></form> `);\n  if (won) {\n    $$payload.out.push(\"<!--[-->\");\n    $$payload.out.push(`<div style=\"position: absolute; left: 50%; top: 30%\" class=\"svelte-115oxdy\"></div>`);\n  } else {\n    $$payload.out.push(\"<!--[!-->\");\n  }\n  $$payload.out.push(`<!--]-->`);\n  bind_props($$props, { form });\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}