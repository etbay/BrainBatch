import"../chunks/DsnmJJEf.js";import"../chunks/BBk6bQQc.js";import{a8 as $,a9 as z,aa as B,ab as F,i as J,A as u,ac as M,f as _,l as c,b as f,$ as N,s as m,d as y,B as p,r as b,ad as d,t as w,a as P}from"../chunks/C7H14__D.js";import{e as W,s as A}from"../chunks/CqFkhK-z.js";import{i as S}from"../chunks/-RQBovE-.js";import{e as Y,i as q}from"../chunks/CD2-qF9y.js";import{h as D}from"../chunks/Doj5kpS1.js";import{r as G}from"../chunks/CoNfMqP3.js";function H(a,r,l=r){var o=new WeakSet;$(a,"input",async n=>{var t=n?a.defaultValue:a.value;if(t=g(a)?x(t):t,l(t),u!==null&&o.add(u),await z(),t!==(t=r())){var i=a.selectionStart,v=a.selectionEnd;a.value=t??"",v!==null&&(a.selectionStart=i,a.selectionEnd=Math.min(v,a.value.length))}}),(J&&a.defaultValue!==a.value||B(r)==null&&a.value)&&(l(g(a)?x(a.value):a.value),u!==null&&o.add(u)),F(()=>{var n=r();if(a===document.activeElement){var t=M??u;if(o.has(t))return}g(a)&&n===x(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function g(a){var r=a.type;return r==="number"||r==="range"}function x(a){return a===""?null:+a}var I=_('<meta name="description" content="Link Canvas Account"/>'),K=_('<p style="color: red;"> </p>'),Q=_("<li> </li>"),R=_("<h2>Your Courses:</h2> <ul></ul>",1),U=_('<div class="text-column" style="text-align: center;"><h1>Link Canvas account</h1> <label for="accessToken">Enter Canvas Access Token:</label> <input style="width: auto;" type="text"/><br/> <button style="margin: 1rem 0; padding: 0.75rem 1.5rem; font-size: 1.1rem;">Link Canvas Account</button> <!> <!></div>');function na(a){let r=p(""),l=p([]),o=p("");async function n(){d(o,""),d(l,[]);const e=await fetch("http://localhost:8000/api/canvas/courses/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:c(r)})});if(e.ok)d(l,await e.json());else{const s=await e.json();d(o,s.error||"Failed to fetch courses")}}var t=U();D(e=>{var s=I();N.title="Canvas",f(e,s)});var i=m(y(t),4);G(i);var v=m(i,3),C=m(v,2);{var T=e=>{var s=K(),h=y(s,!0);b(s),w(()=>A(h,c(o))),f(e,s)};S(C,e=>{c(o)&&e(T)})}var E=m(C,2);{var j=e=>{var s=R(),h=m(P(s),2);Y(h,5,()=>c(l),q,(L,O)=>{var k=Q(),V=y(k,!0);b(k),w(()=>A(V,c(O).name)),f(L,k)}),b(h),f(e,s)};S(E,e=>{c(l).length&&e(j)})}b(t),H(i,()=>c(r),e=>d(r,e)),W("click",v,n),f(a,t)}export{na as component};
